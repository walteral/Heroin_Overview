<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns:background="http://www.w3.org/1999/xhtml">
<head>
    <title>Heroin Drug Trade</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="css/storymap.2.3.css">
    <link href="https://fonts.googleapis.com/css?family=Pompiere" rel="stylesheet">


    <style>
        @media (min-width: 768px) {
            .storymap-story {
                position: absolute;
                right: 5px;
            }
        }

    </style>

    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--chroma-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>

    <!--miniglobe libs-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--swoopyArrow-->
    <!--<script src="https://unpkg.com/leaflet-swoopy@2.0.0/build/Leaflet.SwoopyArrow.js"></script>&ndash;&gt;-->
    <!--<script src="js/Leaflet.SwoopyArrow-customized.js"></script>-->
    <!--<script src="https://unpkg.com/leaflet-swoopy"></script>-->


    <!--Any chart libs-->
    <!--<script src="https://cdn.anychart.com/js/8.0.1/anychart-bundle.min.js"></script>-->
    <!--<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-base.min.js"></script>-->
    <!--<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-map.min.js"></script>-->
    <!--<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-exports.min.js"></script>-->
    <!--<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-ui.min.js"></script>-->
    <!--<script src="https://cdn.anychart.com/releases/8.0.1/geodata/countries/afghanistan/afghanistan.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>-->
    <!--<link rel="stylesheet" href="https://cdn.anychart.com/releases/8.0.1/css/anychart-ui.min.css">-->

    <!--story map plugin-->
    <script src="js/storymap.2.3.js"></script>

    <!--FAVICON-->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

</head>
<body>

<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a data-toggle="modal" data-target="#aboutModal">About</a>
    <a data-toggle="collapse" data-target="#routeMenu" class="dropdown" onclick="openRoutes()">Routes</a>
    <a data-toggle="modal" data-target="#creditsModal">Credits</a>
    <a href="#">Contact</a>
></div>
<div class="dropdown-content" id="routeMenu">
    <a href="#">|Northern Route|</a>
    <a href="#">|Balkans Route|</a>
    <a href="#">|Southern Route|</a>
</div>
<span class="nav" style="font-size:30px;cursor:pointer;color: lightgrey" onclick="openNav()">&#9776;</span>

<!-- Modal -->
<div class="modal fade" id="aboutModal" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title">About</h4>
            </div>
            <div class="modal-body">
                <p>'The Opiate Epidemic' overviews the opiate trade that originates from Afghanistan. It was created to present the general public with a broad overview of how opiates trade networks span the world. Opiates have ravaged the United States in recent years and this story will help spread awareness.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="creditsModal" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title">Credis</h4>
            </div>
            <div class="modal-body">
                <p>
                This webpage was created using the following libraries: Leaflet, Bootstrap, Jquery, font=awesome, D3
                    Video Credits: "The Unseen Afghanistan", YouTube video, 3:35, posted by Khyber Khan, Nov 20, 2016, https://www.youtube.com/watch?v=JDrScVo7aBs<br>
                    End photo credits: https://userscontent2.emaze.com/images/7d765166-02ae-4221-b3a4-c755f5e8827a/32509c83-ac87-4dc2-8f67-7fe76a86e8b0.jpg <br>
                    Country shapefiles:http://www.gadm.org/download<br>
                    Picture sources: https://www.globalresearch.ca/afghanistan-britain-is-protecting-the-biggest-heroin-crop-of-all-time/6405; <br>
                    http://www.freemalaysiatoday.com/category/world/2017/08/08/from-poppy-to-heroin-taliban-move-into-afghan-drug-production/;<br>
                    http://www.railwaypro.com/wp/the-historical-silk-road-reinvented-on-railways/; http://www.balkaninsight.com/en/article/drug-lord-shot-in-%D0%B0-gunfight-at-bulgarian-sea-resort-06-09-2016;<br>
                    https://www.expresstorussia.com/moscow-tours.html; https://www.vice.com/en_us/article/vdxegj/french-connection-kevin-perry-marseille; http://www.cnn.com/2017/07/31/asia/india-heroin-drug-bust/index.html; <br>
                    https://www.statista.com/statistics/269857/most-profitable-companies-worldwide/

                    Icon: <div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>

                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="routes" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a data-toggle="modal" data-target="#aboutModal">About</a>
    <a href="#">Routes</a>
    <a data-toggle="modal" data-target="#creditsModal">Credits</a>
    <a href="#">Contact</a>

</div>

<div id="storymap" class="container-fluid">
    <a class="fa fa-facebook-square social1"
       href="https://www.facebook.com/sharer/sharer.php?u=https%3A//github.com/jakobzhao/geog371" target="_blank"></a>
    <a class="fa fa-github social2" href="https://github.com/walteral" target="_blank"></a>



    <div class="row">

        <div class="col-sm-6 col-md-8 storymap-map"></div>
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/Afghanistan-3-2.mp4" class="viewing section-opacity"
                     style="height: 260.85px; width: 0px; padding: 0px;">



                <div class="fullscreen text-center">


                    <h1 style="color: rgba(255,255,255,1); text-shadow: 3px 3px #0e0e0e"> The Heroin Epidemic
                    </h1><br><br><br><br><br><br>
                    <div class="container viewing " style="background-color:whitesmoke; opacity: 0.8;font-family: 'Pompiere', cursive;; font-size: 30px;">

                        <p style="background-color: whitesmoke; padding: 10px; position: center;font-size: 30px;opacity: 1; text-shadow: 1px 1px #0f0f0f;">
                            Opiates have become an epidemic across our world. Millions of people are affected by this drug every year. The origin of 80% of the world's opiates originate from Afghanistan. Here we will look at how opiates travel from Afghanistan to it's destinations around the world.
                        </p>

                    </div>

                </div>

            </section>

            <section data-scene="scene2">


                <h2 style="font-size: xx-large">Afghanistan</h2>
                <p>Afghanistan is the leading source of opiates in the world. This dangerous commodity has transformed the global economy. Opiates include <b style="color: #cc0000">Opium, Heroin and Morphine.</b></p>
                <p><i class="fa fa-globe fa-3x animated pulse infinite"></i><b style="font-family: 'Pompiere', cursive;color: #cc0000; white-space: nowrap; font-size: 50px">80%</b>  of the world's opiate supply originates from Afghanistan. It then gets smuggled across the country's thousands of miles of border into neighboring countries and smuggled in to high-profit destinations such as North America, Western Europe, or Australia. The most important heroin producing providences within Afghanistan are<i> Helmand, Kandahar and Nangahar</i>, highlighted on the map to the left.</p>
                <img src="img/poppies.jpg" class="img-responsive img-thumbnail" width="100%">
                <div class="storymap-legend"><i style="background:  orange; opacity: 0.5"></i><p>Providence</p>></div>


            </section>
            <section data-scene="scene2a">
                <h2>Regions of Afghanistan</h2>
                <h3>Northern Route</h3>
                <p>
                    The northern route originates from the northern region of Afghanistan. The border between Afghanistan, Turkmenistan, Uzbekistan, and Kyrgyzstan is very porous. There are border guards that patrol the border but bribes are common among the security guards. There are hundreds of mountainous borders that aren't guarded or observed at all. Once the opiates pass over the border they make their way towards Russia where the price increases significantly.
                </p>
                <h3>Balkans Route
                </h3>
                <p>
                    The Balkans route departs from the western providences into Iran or through Pakistan and is eventually smuggled into Iran. A significant portion of the opiates get consumed in Iran but the majority continues to Turkey. The Balkan route is the main route that supplies Europe, with the highest profits coming from the Western European countries.
                </p>
                <h3>
                    Southern Route
                </h3>
                <p>The southern route crosses into Iran or Pakistan along the southern border. These providences are the highest producing in the country and has the closest proximity to the ocean. The southern route exists primarily in air transport and maritime trade. Opiates can get smuggled onto licit trade cargo ships, or can be shipped on private boats from the remote coast of Iran or Pakistan  </p>
                <img src="img/poppies2.jpg" class="img-responsive img-thumbnail" width="100%">

            </section>
            <section data-scene="scene3a">
                <h2>Northern Trade Route</h2>
                <p>
                    Starting from the northern providences heroin and opium is transported across the border into Turkmenistan, Uzbekistan and Tajikistan. An estimated <b style="color: #cc0000"> 95 tons</b> of opiates is moved through this route every year. There is an estimated <b style="color: #cc0000;font-family: 'Pompiere', cursive;"> $393 million</b> in profits that flow through this route. The amount of opium and heroin trafficked in Northern Afghanistan is about  <b style="color: #cc0000;font-family: 'Pompiere', cursive;"> 3%</b> of the entire nations GDP.<br>
                    <i class="fa fa-usd animated pulse infinite"></i> <b style="font-size: 40px">393 million in profit</b><br>
                    <b class="animated pulse infinate" style="font-family: 'Pompiere', cursive;; font-size: 40px">3% of Afghanistan's GDP</b><br>
                    <b style="font-size: 30px; font-family: 'Pompiere', cursive;">75% is transported by truck</b><img src="img/delivery-truck.svg" class="animated bounceInLeft infinite" style="animation-delay: 2s; animation-duration: 8s; animation-timing-function: ease-in-out; animation-direction: alternate" width="10%">
                    <img src="img/container_train.jpg" class="img-responsive img-thumbnail" width="100%">
            </section>

            <section data-scene="scene3">
                <h2>Northern Trade Route</h2>
                <p>
                    The end destination for this route is the Russian market, where profits from the sale of heroin increase from <b style="color: #cc0000"> $3000</b> per kilogram in Afghanistan to
                    <b style="color: #cc0000"> $22,000</b> in Moscow, an increase in profit of <b style="color: #cc0000">733%</b>.<br>
                    <i class="fa fa-usd animated pulse infinite " aria-hidden="true"> 3,000</i>
                    <i class="fa fa-arrow-right animated infinite" ></i>
                    <i class="fa fa-usd animated pulse infinite " aria-hidden="true"> 22,000  </i>
                    <img src="img/equal.svg" style="width: 40px; padding-bottom: 10px" ><span>   </span>
                    <i class="fa fa-2x fa-line-chart animated tada infinite">       733% Profit</i>

                <img src="img/moscaw.jpg" class="img-responsive img-thumbnail" width="100%">
                </p>
            </section>
            <section data-scene="scene4a">
                <h2>Balkans Trade Route</h2>
                <p>
                    The second route that comes out of Afghanistan is the Balkans route. This route flows from the
                    western providences through the Islamic Republic of Iran, through Turkey and eastern Europen
                    countries to the profitable western European nations. An estimated <b style="color: #cc0000">$28 Billion</b> is made in profits
                    every year, an amount which exceeds the total GDP of Afghanistan which was <b style="color: #cc0000">$21 Billion</b> in 2014. <b style="color: #cc0000">27% </b> of the opiates are consumed inside of the Islamic Republic of Iran.
                </p><hr>
               . <i class="fa fa-usd fa-2x animated pulse infinite " aria-hidden="true"></i><b style="font-family: 'Pompiere', cursive;; font-size: 50px"> 28 billion in profits</b><hr>
                <b>Yearly profits from other top companies:</b><br><br>
                <img src="img/beer.svg" style="width: 40px; padding-bottom: 10px"><i class="fa fa-usd animated pulse infinite " aria-hidden="true">  </i><b>8.27b -> Anheuser-Busch</b><br><br>
                <img src="img/disneyland-castle.svg" style="width: 40px; padding-bottom: 10px"><i class="fa fa-usd animated pulse infinite " aria-hidden="true">  </i><b>8.38b -> Disney</b><br><br>
                <img src="img/windows-8.svg" style="width: 40px; padding-bottom: 10px"><i class="fa fa-usd animated pulse infinite " aria-hidden="true">  </i><b>12.19b -> Microsoft</b><br><br>
                <p>
                    <img src="img/DimitarZhelyazkov.jpg" class="img-responsive img-thumbnail" width="100%">
                    <p>Dimitar Zhelyazkov: Balkan drug lord who was arrested in 2008 for drug and weapons smuggling. The vast majority of illicit drugs move through these regions via criminal organizations.


            </p>
            </section>
            <section data-scene="scene4">

                <h2>Balkans Trade Route</h2>
                <p>The destination countries along the Balkan route are in Western Europe. Profits from heroin in the four top countries are:<br> <img src="img/france.svg" class=" animated infinite" style="width: 10%; padding-bottom: 20px">  <i class="fa fa-usd animated infinite " aria-hidden="true"></i><span class="animated pulse infinite" style="font-size: 40px;"> 5.1 Billion in France</span> <br> <img src="img/united-kingdom.svg" class=" animated infinite"style="width: 10%; padding-bottom: 20px">  <i class="fa fa-usd animated infinite " aria-hidden="true"> </i><span class="animated pulse infinite" style="font-size: 40px;"> 3.4 Billion in the UK</span> <br><img src="img/germany.svg" class=" animated infinite" style="width: 10%; padding-bottom: 20px">  <i class="fa fa-usd animated infinite " aria-hidden="true"> </i><span class="animated pulse infinite" style="font-size: 40px;">2.6 Billion in Germany</span>  <br> <img src="img/italy.svg" class=" animated infinite" style="width: 10%; padding-bottom: 20px">  <i class="fa fa-usd animated infinite " aria-hidden="true"> </i><span class="animated pulse infinite" style="font-size: 40px;"> 1.5 Billion in Italy</span><br>
                    <i class="fa fa-2x fa-pie-chart animated pulse infinite" style="white-space: nowrap"> </i> <b style="color: #cc0000" >64.7%</b>of the heroin exported from Afghanistan reaches western Europe. In most countries along the route the majority of imported heroin is consumed. But in Belgium and the Netherlands <img src="img/delivery.svg" style="width: 8%"> <b style="font-family: 'Pompiere', cursive; color: #cc0000" > 75% </b> of the heroin that flows into the country flows out, towards further western countries.
                    <img src="img/theconnection.jpg" class="img-responsive img-thumbnail" width="100%"><p>Scene from "The Connection" a 2015 french film on a heroin smuggling ring in the mediterranean.
                </p>
            </section>
            <section data-scene="scene5a">
                <h2>Southern Trade Route</h2>
                <p>
                    Afghanistan is a land-locked country and has no access to maritime trade. The Islamic Republic of
                    Iran and Pakistan are the two major countries along the southern route that have ports that opiates
                    are trafficked through. Maritime transport presents an opportunity to transport large quantities of
                    opiates quickly to other countries. Unlike the northern and Balkans trade routes which have one
                    market destination (Russia and western Europe respectively), the maritime trade network is
                    transported all over the world to other high-profit areas such as Asia, North America, Australia and
                    Western Europe.
                    <img src="img/3000india.jpeg" class="img-responsive img-thumbnail" width="100%">
<b style="color: #cc0000">3000 lbs</b> drug bust from Iran July 2017. Worth more than <b style="color: #cc0000">$545 million</b>.
                </p>
            </section>
            <section data-scene="scene5">
                <h2>Southern Trade Route</h2>
                <p>
                    Opiates flow across the borders of Iran and Pakistan and end up on the shores of the Persian Gulf and the Gulf of Oman. Here the opiates are smuggled onto boats <img src="img/sea-ship.svg" class="animated bounceInLeft infinite" style="animation-delay: 3s; animation-duration: 4s; animation-timing-function: ease-in-out; animation-direction: alternate" width="10%"> and transported around the world. There has been Afghanistan heroin found increasingly in Asia, Western Europe and North America. <br>The chart below shows heroin trafficked into North America via the southern route by country of departure, 2010 - 2013.
                    <img src="img/NA_chart.PNG" class="img-responsive img-thumbnail" width="100%">
                    <br><br>


                </p>
            </section>


            <!--<section data-scene="scene6">-->
                <!--<h2>Global routes to America</h2>-->
                <!--<p>-->
                    <!--Opiates originating in Afghanistan have been found all over the world. Traffickers are creative and always changing their methods to avoid detection by law authorities. Opiates are smuggled by <img src="img/delivery-truck.svg" class="animated bounceInLeft infinite" style="animation-delay: 1s; animation-duration: 8s; animation-timing-function: ease-in-out; animation-direction: alternate" width="10%"> land routes, <img src="img/sea-ship.svg" class="animated bounceInRight infinite" style="animation-delay: 3s; animation-duration: 4s; animation-timing-function: ease-in-out; animation-direction: alternate" width="10%">maritime trade routes, and by <img src="img/airplane-shape.svg" class="animated bounceInUp infinite" style="animation-delay: 4s; animation-duration: 3s; animation-timing-function: ease-in; animation-direction: alternate" width="10%"> air transportation.-->
                <!--</p>-->
            <!--</section>-->
            <section data-scene="scene7">
                <h2>America</h2>


                <p>

                    America and Canada are two high-profit destinations for traffickers although there are different
                    ways to reach them. There has been a rising epidemic of heroin usage within America over
                    the last few years. Recently, this has been brought to the political forefront when President Trump issued a National Public
                    Health Emergency on October 26, 2017.

        </p>

                <img src="img/nationalEM_Trump.PNG" width="100%"><br>
                <b> Drug related deaths from 1999 - 2015</b><br>
                    <i class="fa fa-square" style="color: #000000; opacity: 1; white-space: nowrap"></i> 7049 - 12919 <br>
                    <i class="fa fa-square" style="color: #430f02; opacity: 1; white-space: nowrap"></i> 4692 - 7048 <br>
                    <i class="fa fa-square" style="color: #800000; opacity: 1; white-space: nowrap"></i> 3608 - 4691<br>
                    <i class="fa fa-square" style="color: #bf5b03; opacity: 1; white-space: nowrap"></i> 1354 - 2607 <br>
                    <i class="fa fa-square" style="color: #ffa500; opacity: 1; white-space: nowrap"></i> 585 - 1353 <br>
                    <i class="fa fa-square" style="color: #ffd281; opacity: 1; white-space: nowrap"></i> 190 - 584<br>
                <i class="fa fa-square" style="color: #ffffe0; opacity: 0.5"></i> 0 - 190








            </section>

            <section data-scene="end" data-background="img/poppyBW.png" class="viewing section-opacity"
                     style="height: 260.85px; width: 0px; padding: 0px;">
                <div class="fullscreen text-center end-bg-img">
                    <br>
                    <h1 class="">Thank You</h1>
                    <p style="background-color: whitesmoke; padding: 10px; position: center;font-size: 30px;opacity: .7">If you know someone that has lost their life to the Opiate epidemic please share your story and help bring a face to the numbers
                    </p></div>

            </section>

        </div>
    </div>

</div>


<script type="text/javascript">
    <!--highlighting functions-->
    function highlightFeature(e) {
        // e indicates the current event
        var layer = e.target; //the target capture the object which the event associates with
        layer.setStyle({
            weight: 8,
            opacity: 0.8,
            color: '#e3e3e3',
            fillColor: '#1ce3d7',
            fillOpacity: 0.5
        });
        // bring the layer to the front.
        layer.bringToFront();
        // select the update class, and update the contet with the input value.
        $(".update").html('layer.feature.properties.PRV_NAME');
    }
    function resetHighlight(e) {
        geojson.resetStyle(e.target);
//        $(".update").html("Hover over a state");
    }

    function onEachFeature(feature, layer) {
        layer.on({
            mouseover: highlightFeature,
            mouseout: resetHighlight
        });
    }

    var colors = chroma.scale(['lightyellow', 'orange','maroon','black']).mode('lab').colors(7);
    function setColor(density) {
        var id = 0;
        if (density > 7049) {
            id = 6;
        }
        else if (density > 4692 && density <= 7048) {
            id = 5;
        }
        else if (density > 2608 && density <= 4691) {
            id = 4;
        }
        else if (density > 1354 && density <= 2607) {
            id = 3;
        }
        else if (density > 585 && density <= 1353) {
            id = 2;
        }
        else if (density > 190 && density <= 584) {
            id = 1;
        }
        else {
            id = 0;
        }
        return colors[id];
    }
    function style(feature) {
        return {
            fillColor: setColor(feature.properties.deaths),
            fillOpacity: .8,
            weight: 0,
            opacity: 1,
            color: '#ffffff',
            dashArray: '4'
        };

}





    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        document.getElementById("storymap").style.marginLeft = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        document.getElementById("storymap").style.marginLeft = "0"
    }
    function openRoutes() {
        document.getElementById("routeMenu").style.width = "500px";
    }

    function closeRoutes() {
        document.getElementById("routeMenu").style.width = "0";
    }

//     anychart.onDocumentReady(function () {
//
//         // This sample uses 3rd party proj4 component
//         // that makes it possible to set coordinates
//         // for the points and labels on the map and
//         // required for custom projections and grid labels formatting.
//         // See https://docs.anychart.com/latest/Maps/Map_Projections
//
// // create data set
//         var data = [
//             [[32.09, 67.26, 34.68,70.03]],
//             [[34.68,70.03, 36.54, 70.07]],
//             // [[51.5,-0.16, 51.7, -1.29]],
//             // [[51.7, -1.29, 52.2, 0.27]],
//             // [[52.2, 0.27, 53.3, -1.5]],
//             // [[53.3, -1.5, 54.5,-3.4]],
//             // [[54.5, -3.4, 57.1, -2.19]]
//         ];
//
// // create map chart
//         map = anychart.map();
//
// //create connector series
//         var series = map.connector(data);
//
// // set geodata
//         map.geoData(anychart.maps['afghanistan']);
//
// // name of the chart
//         map.title("Afghanistan routes");
//
// // set container id for the chart
//         map.container('paths');
//
// // initiate chart drawing
//         map.draw();
//     });


    //    ***************LAYERS***************************************
    var layers = {
        layer1: {
            layer: L.geoJson.ajax('assets/Bigarrow.geojson', {
                    color: 'black',
                    opacity: 3,
                    weight:.2,
                    fillColor:'red',
                    fillOpacity: .7

                }
            )
        },
        layer2: {
            layer: L.geoJson.ajax('assets/afghanistan.geojson', {
                color: 'orange',
                weight: 2,
                opacity: 0.5
            }),
            legend: '<i style="background: orange; opacity: 0.5"></i><p>Providence</p>'
        },


        layer4: {
            layer: L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}@2x.png')
        },

        layer3: {
            layer: geojson = L.geoJson.ajax('assets/HeroinProv.geojson', {
                color: 'red',
                weight: 5,
                opacity: 0.8,
                onEachFeature: onEachFeature
            }),
            legend: '<i style="background: red; opacity: 0.5"></i><p>Top heroin producing providences</p>'

        },
        layer5: {
            layer: L.geoJson.ajax('assets/Afghanistan_dis.geojson', {
                color: 'black',
                weight: 2
            }),

        },
        layer6: {
            layer: L.geoJson.ajax('assets/RussiaArrow.geojson', {
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            }),
            // legend: '<i style="background:  blue; opacity: 0.5"></i><p>Trade Routes</p>'
        },

        layer7: {
            layer: L.geoJson.ajax('assets/Balkans and Caucas.geojson', {
                color: 'blue',
                weight: 10,
            }),
            legend: '<i style="background:  blue; opacity: 0.5"></i><p>Trade Routes</p>'
        },
        layer8: {
            layer: L.geoJson.ajax('assets/SouthernArrow.geojson', {
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            }),
            legend: '<i style="background:  blue; opacity: 0.5"></i><p>Trade Routes</p>'
        },
        layer9: {
            layer: L.geoJson.ajax('assets/drug_deaths_simple.geojson', {
                style: style,
                onEachFeature: function(feature,layer){
                    layer.bindPopup(feature.properties.NAME);


            }}),
        },

        layer11: {
            layer: L.geoJson.ajax('assets/RCEast.geojson', {
                color: 'purple'
            })
        },
        layer12: {
            layer: L.geoJson.ajax('assets/RCNorthv2.geojson', {
                color: 'green'
            })
        },
        layer13: {
            layer: L.geoJson.ajax('assets/RCSouth.geojson', {
                color: 'blue'
            })
        },
        layer14: {
            layer: L.geoJson.ajax('assets/RCWest.geojson', {
                color: 'red'
            })
        },
        layer15: {
            layer: L.geoJson.ajax('assets/TJK.geojson',{
                color: 'orange'
    })
        },
        layer16: {
            layer: L.geoJson.ajax('assets/TKM.geojson',{
                color: 'orange'
        })},
        layer17: {
            layer: L.geoJson.ajax('assets/UZB.geojson',{
                color: 'orange'
        })},
        layer18: {
            layer: L.geoJson.ajax('assets/KAZ.geojson',{
                color: 'orange'
        })},
        layer19: {
            layer: L.geoJson.ajax('assets/KGZ.geojson',{
                color: 'orange'
        })},
        layer20: {
            layer: L.geoJson.ajax('assets/TUR.geojson',{
                color: 'orange'
            })},

        layer21: {
            layer: L.geoJson.ajax('assets/IRN.geojson',{
                color: 'orange'
            })},

        layer22: {
            layer: L.geoJson.ajax('assets/PAK.geojson',{
                color: 'orange'
            })},

        layer23:{
            layer: L.geoJson.ajax('assets/arrow_Russia.geojson',{
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            })
        },
        layer24:{
            layer:L.geoJson.ajax('assets/northernArrows.geojson',{
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            })
        },
        layer25:{
            layer:L.geoJson.ajax('assets/balkansArrows.geojson', {
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            })
        },
        layer26:{
            layer: L.geoJson.ajax('assets/southernArrows.geojson', {
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            })
        },
        layer27:{
            layer: L.geoJson.ajax('assets/secondSouthern.geojson', {
                color: 'black',
                opacity: 3,
                weight:.2,
                fillColor:'red',
                fillOpacity: .7
            })
        },
        layer28:{
            layer: L.geoJson.ajax('assets/GBR.geojson', {
                color: 'black',
                opacity:.7,
                fillColor:'red',
                fillOpacity:.7,
            })
        },
        layer29:{
            layer: L.geoJson.ajax('assets/ITA.geojson', {
                color: 'black',
                opacity:1,
                fillColor:'green',
                fillOpacity:.7,

            })
        },
        layer30:{
            layer: L.geoJson.ajax('assets/FRA.geojson', {
                color: 'black',
                opacity:1,
                fillColor:'blue',
                fillOpacity:.7,

            })
        },
        layer31:{
            layer: L.geoJson.ajax('assets/DEU.geojson', {
                color: 'black',
                opacity:1,
                fillColor:'yellow',
                fillOpacity:.7,

            })
        },

    };

//    *******************SCENES*************************************
    var scenes = {

        scene1: {},
        scene2: {
            lat: 34.3,
            lng: 74,
            zoom: 6.2,
            layers: ['layer3', 'layer2', 'layer4'],
            name: "Afghanistan"
        },
        scene2a: {
            lat: 34.343717,
            lng: 75.551463,
            zoom: 5,
            layers: ['layer4','layer1', 'layer11', 'layer12','layer13','layer14'],
            name: "Afghanistan regions"
        },
        scene3a: {
            lat: 41.6134051,
            lng: 78.287486,
            zoom: 4.5,
            layers: ['layer4', 'layer5', 'layer15','layer16', 'layer17','layer18','layer19', 'layer24'],
            name: "Northern Trade Route"
        },
        scene3: {
            lat: 50.208498,
            lng: 60.912203,
            zoom: 4.24,
            layers: ['layer4', 'layer5', 'layer6'],
            name: "Northern Trade Route"
        },
        scene4a: {
            lat: 38.208498,
            lng: 60.912203,
            zoom: 4.5,
            layers: ['layer4', 'layer5', 'layer20','layer21','layer25'],
            name: "Balkans Trade Route"
        },
        scene4: {
            lat: 45.208498,
            lng: 58.912203,
            zoom: 3.5,
            layers: ['layer4', 'layer5', 'layer25', 'layer28','layer29','layer30','layer31'],
            name: "Balkans Trade Route"
        },
        scene5a: {
            lat: 28.208498,
            lng: 68.512203,
            zoom: 6.3,
            layers: ['layer4', 'layer5','layer21','layer22','layer26'],
            name: "Southern Trade Route"
        },

        scene5: {
            lat: 30.208498,
            lng: 75.912203,
            zoom: 4.24,
            layers: ['layer4', 'layer5','layer27'],
            name: "Southern Trade Route"
        },

        // scene6: {
        //     lat: 25.208498,
        //     lng: 60.912203,
        //     zoom: 3,
        //     layers: ['layer4', 'layer5', 'layer8', 'layer6','layer7'],
        //     name: "Global Routes to America"
        // },
        scene7: {lat: 39.369179, lng: -78.513175, zoom: 4.5, layers: ['layer4', 'layer9'], name: "America"},
        scene8: {lat: 44.5701158, lng: -123.2949388, zoom: 12, layers: ['layer4', 'layer2'], name: "End"}
    };

//    *********************MAP******************************************************
    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.layer4,
        navbar: false,
        legend: true,
        loader: false,
        flyto: true,
        credits: "Created by Alex Walters",
        scalebar: true,
        scrolldown: true,
        progressline: true,
        navwidget: false,
        createMap: function () {
            var map = L.map($(".storymap-map")[0], {scrollWheelZoom: false}).setView([40, -10], 3);
            new L.Control.GlobeMiniMap({
                marker: 'red',
                position: 'bottomleft'
            }).addTo(map);
            map.dragging.disable();
            scrollWheelZoom: false

            return map;
        }
    });
</script>
</body>
</html>
Â© 2017 GitHub, Inc.
Terms
Privacy
Security
Status
Help
Contact GitHub
API
Training
Shop
Blog
